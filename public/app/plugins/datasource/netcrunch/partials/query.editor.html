<div class="tight-form net-crunch-tight-form"
     ng-class="{'tight-form-disabled': target.hide}">

  <ul class="tight-form-list pull-right">

    <li ng-show = "target.localVars.counterError" class = "tight-form-item">
      <a bs-tooltip = "target.localVars.counterErrorMessage"
         style = "color: rgb(229, 189, 28)" role = "menuitem">
        <i class = "fa fa-warning"></i>
      </a>
    </li>
    <li class="tight-form-item">
      <div class="dropdown">
        <a class="pointer dropdown-toggle"
           data-toggle="dropdown">
          <i class="fa fa-bars"></i>
        </a>
        <ul class="dropdown-menu pull-right" role="menu">
          <li role="menuitem">
            <a ng-click="duplicateDataQuery(target)">
              Duplicate
            </a>
          </li>
          <li ng-if="$index > 0" role="menuitem">
            <a ng-click="moveDataQuery($index, $index-1)">
              Move up
            </a>
          </li>
          <li ng-if="$index < (panel.targets.length - 1)" role="menuitem">
            <a ng-click="moveDataQuery($index, $index+1)">
              Move down
            </a>
          </li>
        </ul>
      </div>
    </li>
    <li class="tight-form-item last">
      <a class="pointer" ng-click="removeDataQuery(target)">
        <i class="fa fa-remove"></i>
      </a>
    </li>

  </ul>

  <ul class="tight-form-list">
    <li class="tight-form-item" style="min-width: 15px; text-align: center">
      {{counterLetters[$index]}}
    </li>
    <li>
      <a class="tight-form-item"
         ng-click="target.hide = !target.hide; get_data();"
         role="menuitem">
         <i class="fa fa-eye"></i>
      </a>
    </li>
  </ul>

  <ul class="tight-form-list">
    <li class="tight-form-item tile spinner"
        ng-show="target.localVars.nodeSpinner"
        tabindex="1">
      <ng-spinner spinner-show-trigger = "target.localVars.processingNode"
                  spinner-state = "target.localVars.nodeSpinner"
                  spinner-delay = "350">
        <img src = "img/load_big.gif">
      </ng-spinner>
    </li>
    <li class="tight-form-item tile"
        node-type-ahead={{$index}}
        ng-focus-me="target.localVars.nodeFocus"
        ng-hide="target.localVars.nodeSpinner"
        ng-enter-click
        ng-down-arrow-click
        ng-click="nodeSelectionTypeAhead($index)"
        tabindex="1">
      <div class="node-icon">
        <img ng-src={{target.localVars.nodeIcon}}>
      </div>
      <div class="tile-description">
        <div class="node-name">{{target.localVars.nodeName}}</div>
        <div class="node-address">{{target.localVars.nodeAddress}}</div>
      </div>
    </li>

    <li class="tight-form-item counter spinner"
        ng-show="target.localVars.counterSpinner"
        tabindex="1">
      <ng-spinner
        spinner-show-trigger = "target.localVars.processingCounter"
        spinner-state = "target.localVars.counterSpinner"
        spinner-delay = "350">
        <img src = "img/load_big.gif">
      </ng-spinner>
    </li>
    <li class="tight-form-item counter"
        counter-type-ahead={{$index}}
        ng-focus-me="target.localVars.counterFocus"
        ng-hide="target.localVars.counterSpinner"
        ng-enter-click
        ng-down-arrow-click
        ng-click="counterSelectionTypeAhead($index)"
        tabindex="1">
      {{target.localVars.counterDisplayName}}
    </li>

    <li class="tight-form-item" ng-hide="panel.scopedVars.rawData">
      <input class="cr1" id="min{{$index}}" type="checkbox"
             ng-model="target.series.min"
             ng-change="seriesChange(target)">
      <label for="min{{$index}}" class="cr1">Min</label>
    </li>

    <li class="tight-form-item" ng-hide="panel.scopedVars.rawData">
      <input class="cr1" id="avg{{$index}}" type="checkbox"
             ng-model="target.series.avg"
             ng-change="seriesChange(target)">
      <label for="avg{{$index}}" class="cr1">Avg</label>
    </li>

    <li class="tight-form-item" ng-hide="panel.scopedVars.rawData">
      <input class="cr1" id="max{{$index}}" type="checkbox"
             ng-model="target.series.max"
             ng-change="seriesChange(target)">
      <label for="max{{$index}}" class="cr1">Max</label>
    </li>
  </ul>


  <div class="clearfix"></div>
</div>
