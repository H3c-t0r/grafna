<datasource-http-settings current="ctrl.current" suggest-url="http://localhost:9090">
</datasource-http-settings>

<h3>Prometheus Settings</h3>

<div class="gf-form-group">
  <div class="gf-form-inline">
    <div class="gf-form">
      <span class="gf-form-label width-8">Scrape interval</span>
      <input type="text" class="gf-form-input width-8" ng-model="ctrl.current.jsonData.timeInterval" spellcheck='false' placeholder="15s"></input>
      <info-popover mode="right-absolute">
        Set this to your global scrape interval defined in your Prometheus config file. This will be used as a lower limit for the
        Prometheus step query parameter.
      </info-popover>
    </div>
  </div>

  <div class="gf-form-inline">
    <div class="gf-form">
      <span class="gf-form-label width-8">Query timeout</span>
      <input type="text" class="gf-form-input width-8" ng-model="ctrl.current.jsonData.queryTimeout" spellcheck='false' placeholder="60s"></input>
      <info-popover mode="right-absolute">
        Set the Prometheus query timeout.
      </info-popover>
    </div>
  </div>

  <div class="gf-form">
    <label class="gf-form-label width-8">HTTP Method</label>
    <div class="gf-form-select-wrapper width-8 gf-form-select-wrapper--has-help-icon">
      <select class="gf-form-input" ng-model="ctrl.current.jsonData.httpMethod" ng-options="method for method in ['GET', 'POST']"></select>
      <info-popover mode="right-absolute">
        Specify the HTTP Method to query Prometheus. (POST is only available in Prometheus >= v2.1.0)
      </info-popover>
    </div>
  </div>
</div>

<h3>Prometheus Security Permissions</h3>

<div class="gf-form-group">
  <div class="gf-form-inline">
    <div class="gf-form">
      <span class="gf-form-label width-10">Permission Label</span>
      <input type="text" class="gf-form-input width-10" ng-model="ctrl.current.jsonData.permissionLabel" spellcheck='false' placeholder="cid"></input>
      <info-popover mode="right-absolute">
        Provide a label name which must be equal to the Permission Value field to allow querys through the Server access mode, otherwise the Grafana proxy will reject requests to the data source.
      </info-popover>
    </div>
  </div>
  
  <div class="gf-form-inline">
    <div class="gf-form">
      <span class="gf-form-label width-10">Permission Label Value</span>
      <input type="text" class="gf-form-input width-10" ng-model="ctrl.current.jsonData.permissionLabelValue" spellcheck='false' placeholder="teamID"></input>
      <info-popover mode="right-absolute">
        The value of this source must be contained in any query as a label, specified in Permission Label, otherwise the Grafana proxy will reject requests to the data source.
      </info-popover>
    </div>
  </div>  
</div>
