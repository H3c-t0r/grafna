<topnav title="告警通知" icon="fa fa-fw fa-phone" subnav="true">
  <ul class="nav">
    <li class="active" ><a href="oncallers">总览</a></li>
    <li><a href="oncallers/new">新增</a></li>
  </ul>
</topnav>

<div class="page-container">
  <div class="page">
    <h2>告警通知列表</h2>

    <div ng-if="oncallerDefList.length === 0">
      <em>您还没有定义任何报警通知的规则</em>
    </div>

    <table class="grafana-options-table" ng-if="oncallerDefList.length > 0">
      <tr>
        <td><strong>运维人员</strong></td>
        <td><strong>电话</strong></td>
        <td><strong>邮箱</strong></td>
        <td><strong>组织</strong></td>
        <td><strong>服务名称</strong></td>
        <td></td>
        <td></td>
      </tr>
      <tr ng-repeat="oncallerDef in oncallerDefList">
        <td style="width:10%">
          <i class="fa fa-phone"></i> &nbsp;
          {{oncallerDef.name}}
        </td>
        <td style="width:30%">
          {{oncallerDef.tel}}
        </td>
        <td style="width:30%">
          {{oncallerDef.email}}
        </td>
        <td style="width:10%">
          {{orgName}}
        </td>
        <td style="width:50%">
          {{getSystemName(oncallerDef.service)}}
        </td>
        <td style="width: 1%">
          <a href="oncallers/edit/{{oncallerDef.org}}:{{oncallerDef.service}}" class="btn btn-inverse btn-mini">
            <i class="fa fa-edit"></i>
            编辑
          </a>
        </td>
        <td style="width: 1%">
          <a ng-click="remove(oncallerDef.org, oncallerDef.service, oncallerDef.id)" class="btn btn-danger btn-mini">
            <i class="fa fa-remove"></i>
          </a>
        </td>
      </tr>
    </table>

  </div>
</div>

