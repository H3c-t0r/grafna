@lokiDatasourceID = 32
@prometheusDatasourceID = 875
@grafana = grafana

# unsupported loki backend
GET http://admin:admin@localhost:3000/alertmanager/{{lokiDatasourceID}}/config/api/v1/alerts

###
# unsupported cortex backend
GET http://admin:admin@localhost:3000/alertmanager/{{prometheusDatasourceID}}/config/api/v1/alerts

###
# create AM configuration
POST http://admin:admin@localhost:3000/alertmanager/{{grafana}}/config/api/v1/alerts
content-type: application/json

< ./post-user-config.json

###
# get latest AM configuration
GET http://admin:admin@localhost:3000/alertmanager/{{grafana}}/config/api/v1/alerts
content-type: application/json

###
# delete AM configuration
DELETE http://admin:admin@localhost:3000/alertmanager/{{grafana}}/config/api/v1/alerts

###
# create AM alerts
POST http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/alerts
content-type: application/json

###
# get silences - no silences
GET http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silences?Filter=foo&Filter=bar

###
# create silence
POST http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silences
content-type: application/json

{
  "comment": "string",
  "createdBy": "string",
  "endsAt": "2021-04-01 16:22:05.400",
  "id": "just-testing",
  "matchers": [
    {
      "isRegex": true,
      "name": "string",
      "value": "string"
    }
  ],
  "startsAt": "2021-03-31 16:22:05.400"
}

###
# get silences
GET http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silences


###
# get silence
GET http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silence/just-testing

###
# get silence - unknown
GET http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silence/unknown

###
# delete silence
DELETE http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silence/just-testing

###
# delete silence - unknown
DELETE http://admin:admin@localhost:3000/alertmanager/{{grafana}}/api/v2/silence/unknown